(this.webpackJsonptodoapp=this.webpackJsonptodoapp||[]).push([[0],[,,,,,,,,,function(t,e,a){t.exports=a(23)},,,,,function(t,e,a){},,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var o=a(0),i=a.n(o),n=a(7),s=a.n(n),l=(a(14),a(5)),r=a.n(l),d=a(8),c=a(1),u=a(2),h=a(4),m=a(3),p=(a(16),a(17),function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=e.call(this,t)).state={},o}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("nav",{className:"nav-bar"},this.props.title)}}]),a}(i.a.Component)),b=(a(18),function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=e.call(this,t)).state={},o}return Object(u.a)(a,[{key:"addTodo",value:function(t){t.preventDefault(),this.props.add(!0)}},{key:"render",value:function(){return i.a.createElement("div",{className:"toolbar"},i.a.createElement("button",{className:"add-btn",onClick:this.addTodo.bind(this)},"Add"))}}]),a}(i.a.Component)),v=(a(19),function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=e.call(this,t)).state={todoitem:o.props.edittodo,errors:{},edit:o.props.edit},o}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(this.state.edit){var t=this.state.todoitem;t.dueTime="",this.setState({todoitem:t})}}},{key:"validateFields",value:function(){var t=this.state.todoitem,e={},a=!0;return t.title||(a=!1,e.title="Cannot be empty"),t.description||(a=!1,e.desc="Cannot be empty"),t.dueDate||(a=!1,e.dueDate="Cannot be empty"),t.dueTime||(a=!1,e.dueTime="Cannot be empty"),this.setState({errors:e}),a}},{key:"saveTodo",value:function(t){if(t.preventDefault(),this.validateFields()){var e=this.state.todoitem;e.dueTime=new Date(this.state.todoitem.dueDate.slice(0,10).split("-").join("/")+" "+e.dueTime),this.setState({todoitem:e}),this.state.edit?this.props.editTodoPut(this.state.todoitem):this.props.add(this.state.todoitem)}else alert("Form has errors")}},{key:"update",value:function(t){t.preventDefault();var e=this.state.todoitem;e[t.target.name]=t.target.value,this.setState({todoitem:e})}},{key:"closeTodoDiv",value:function(){this.state.edit,this.props.close(!1)}},{key:"render",value:function(){var t=this.state.todoitem.dueDate;return this.state.edit&&0!==Object.keys(this.state.todoitem.dueDate).length&&(t=this.state.todoitem.dueDate.slice(0,10)),i.a.createElement("div",{className:"new-todo-item"},i.a.createElement("div",{className:"field-set"},i.a.createElement("label",null,"Title: "),i.a.createElement("input",{type:"text",onChange:this.update.bind(this),name:"title",value:this.state.todoitem.title}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("span",{className:"errormsg"},this.state.errors.title),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("label",null,"Description: "),i.a.createElement("input",{type:"text",onChange:this.update.bind(this),name:"description",value:this.state.todoitem.description}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("span",{className:"errormsg"},this.state.errors.desc),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("label",null,"Due Date: "),i.a.createElement("input",{type:"date",onChange:this.update.bind(this),name:"dueDate",value:t}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("span",{className:"errormsg"},this.state.errors.dueDate),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("label",null,"Time: "),i.a.createElement("input",{type:"time",onChange:this.update.bind(this),name:"dueTime"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("span",{className:"errormsg"},this.state.errors.dueTime),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{className:"save-btn",onClick:this.saveTodo.bind(this)},"Save"),"\xa0\xa0",i.a.createElement("button",{className:"close-btn",onClick:this.closeTodoDiv.bind(this)},"Close")))}}]),a}(i.a.Component)),f=(a(20),a(21),function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=e.call(this,t)).state={todoitem:o.props.todo_item},o}return Object(u.a)(a,[{key:"todoDetails",value:function(t){this.props.showDetails(!0,this.state.todoitem)}},{key:"completeTodo",value:function(t){var e=this.state.todoitem;e.completed=!e.completed,this.setState({todoitem:e}),this.props.editTodoPut(this.state.todoitem)}},{key:"deleteTodo",value:function(t){t.target.parentNode.remove(),this.props.deleteTodo(this.state.todoitem)}},{key:"render",value:function(){var t=this.state.todoitem.completed?"todo_complete":"todo_incomplete";return i.a.createElement("div",{className:"todo-item",id:this.state.todoitem.title},i.a.createElement("p",{className:t,onClick:this.todoDetails.bind(this)},this.state.todoitem.title),i.a.createElement("button",{className:"complete-btn",onClick:this.completeTodo.bind(this)},this.state.todoitem.completed?"Undo":"Complete"),i.a.createElement("button",{className:"delete-btn",onClick:this.deleteTodo.bind(this)},"Delete"))}}]),a}(i.a.Component)),E=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=e.call(this,t)).state={},o}return Object(u.a)(a,[{key:"showDetails",value:function(t,e){this.props.showDetails(t,e)}},{key:"deleteTodo",value:function(t){this.props.deleteTodo(t)}},{key:"render",value:function(){var t=this,e=0,a=this.props.todolist.map((function(a){return e++,i.a.createElement(f,{key:e,todo_item:a,showDetails:t.showDetails.bind(t),deleteTodo:t.deleteTodo.bind(t),editTodoPut:t.props.editTodoPut})}));return i.a.createElement("div",{className:"todo-list"},a)}}]),a}(i.a.Component),T=(a(22),function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=e.call(this,t)).state={edit:!1,showTodo:!0},o}return Object(u.a)(a,[{key:"editTodo",value:function(t){t.preventDefault(),this.setState({edit:!0})}},{key:"showDetails",value:function(){return this.state.edit?i.a.createElement("div",null,this.state.showTodo&&i.a.createElement(v,{add:this.props.add,edittodo:this.props.details,editTodoPut:this.props.editTodoPut,edit:!0,close:this.props.resetEdit})):i.a.createElement("div",{className:"todo-item"},i.a.createElement("h3",null,"Selected Todo item details"),i.a.createElement("p",null,"Title: ",this.props.details.title),i.a.createElement("p",null,"Description: ",this.props.details.description),i.a.createElement("p",null,"Due Date: ",this.props.details.dueDate),i.a.createElement("p",null,"Time: ",this.props.details.dueTime),i.a.createElement("button",{className:"edit-btn",onClick:this.editTodo.bind(this)},"Edit"))}},{key:"render",value:function(){return i.a.createElement("div",null,this.showDetails())}}]),a}(i.a.Component)),D=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=e.call(this,t)).state={title:"TODO App",todolist:[],errorMessage:"",showAddTodo:!1,showDetails:!1,todoDetails:"",completeTodo:!1},o}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("http://localhost:5000/todos").then(function(){var e=Object(d.a)(r.a.mark((function e(a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:if(o=e.sent,a.ok){e.next=6;break}return i=o&&o.message||a.statusText,e.abrupt("return",Promise.reject(i));case 6:t.setState({todolist:o});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.setState({errorMessage:e.toString()}),alert("Error in loading page!",e)}))}},{key:"showAddTodo",value:function(t){this.setState({showAddTodo:t})}},{key:"addTodo",value:function(t){var e={title:t.title,description:t.description,dueDate:t.dueDate,dueTime:t.dueTime,completed:!1};fetch("http://localhost:5000/todos/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){alert("Successfully added todo item "),window.location.reload()})).catch((function(t){return alert("Error posting data: ",t)}))}},{key:"showDetails",value:function(t,e){this.setState({showDetails:t,todoDetails:e})}},{key:"editTodoPut",value:function(t){var e={title:t.title,description:t.description,dueDate:t.dueDate,dueTime:t.dueTime,completed:t.completed};fetch("http://localhost:5000/todos/"+t.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){alert("Successfully Updated todo item: ",t),window.location.reload()})).catch((function(t){return alert("Error updating data: ",t)}))}},{key:"deleteTodo",value:function(t){fetch("http://localhost:5000/todos/"+t.id,{method:"DELETE"}).then((function(t){return t.text()})).then((function(t){alert("Deleted Successfully ",t),window.location.reload()})).catch((function(t){return alert("Cannot delete todo item ",t)}))}},{key:"closeTodoDiv",value:function(t){this.setState({showAddTodo:t})}},{key:"resetEdit",value:function(t){this.setState({showDetails:t,todoDetails:{}})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(p,{title:this.state.title}),i.a.createElement(b,{add:this.showAddTodo.bind(this)}),this.state.showAddTodo&&i.a.createElement(v,{add:this.addTodo.bind(this),edit:!1,edittodo:{},close:this.closeTodoDiv.bind(this)}),i.a.createElement(E,{todolist:this.state.todolist,showDetails:this.showDetails.bind(this),deleteTodo:this.deleteTodo.bind(this),editTodoPut:this.editTodoPut.bind(this)}),this.state.showDetails&&i.a.createElement(T,{details:this.state.todoDetails,editTodoPut:this.editTodoPut.bind(this),add:this.addTodo.bind(this),resetEdit:this.resetEdit.bind(this)}))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.85b994d8.chunk.js.map